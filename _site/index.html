<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="/assets/css/style.css?v=d361fd73fcec461765f8a87ed0273cf7ca522b07" media="screen" type="text/css">
    <link rel="stylesheet" href="/assets/css/print.css" media="print" type="text/css">

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->

<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Home | rasa-ptbr-boilerplate</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Home" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Um template para criar um FAQ chatbot usando Rasa, Rocket.chat, elastic search" />
<meta property="og:description" content="Um template para criar um FAQ chatbot usando Rasa, Rocket.chat, elastic search" />
<link rel="canonical" href="http://localhost:4000/" />
<meta property="og:url" content="http://localhost:4000/" />
<meta property="og:site_name" content="rasa-ptbr-boilerplate" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Home" />
<script type="application/ld+json">
{"description":"Um template para criar um FAQ chatbot usando Rasa, Rocket.chat, elastic search","headline":"Home","url":"http://localhost:4000/","@type":"WebSite","name":"rasa-ptbr-boilerplate","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>

  <body>
    <header>
      <div class="inner">
        <a href="http://localhost:4000/">
          <h1>rasa-ptbr-boilerplate</h1>
        </a>
        <h2>Um template para criar um FAQ chatbot usando Rasa, Rocket.chat, elastic search</h2>
        
          <a href="https://github.com/lappis-unb/rasa-ptbr-boilerplate" class="button"><small>View project on</small> GitHub</a>
        
        
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1 id="rasa-boilerplate">Rasa Boilerplate</h1>
<!-- badges -->
<p><a href="https://www.gnu.org/licenses/gpl-3.0.pt-br.html"><img src="https://img.shields.io/badge/licence-GPL3-green.svg" /></a>
<a href="https://codeclimate.com/github/lappis-unb/rasa-ptbr-boilerplate/maintainability"><img src="https://api.codeclimate.com/v1/badges/8d18e7614e9eef843500/maintainability" /></a>
<img src="https://github.com/lappis-unb/rasa-ptbr-boilerplate/workflows/build_bot/badge.svg" alt="badge_build" /></p>

<p><em>For English version: <a href="docs/README-en.md">README-en</a></em></p>

<p>O boilerplate nasceu como uma abstração genérica do projeto <a href="http://github.com/lappis-unb/tais">Tais</a>. Hoje, tem o objetivo de tornar mais fácil a criação de um chatbot <a href="http://rasa.com/">Rasa</a>. Com a evolução do framework, atualmente o foco do boilerplate é uma documentação em código viva.</p>

<p>Aqui você pode encontrar um chatbot totalmente em Português Brasiliero que vai te auxiliar com exemplos de diálogo, código e uso de funcionalidades do Rasa.</p>

<h2 id="arquitetura">Arquitetura</h2>

<p>A <a href="https://drive.google.com/file/d/1xUojfFGrYubSfmd3tL77XzgZzD6cR-XH/view?usp=sharing">arquitetura</a> do boilerplate pode ser divida em 2 partes principais:</p>

<ul>
  <li><strong>Criar</strong></li>
</ul>

<p>Processo que transforma arquivos de configuração <code class="language-plaintext highlighter-rouge">.yml</code> em um <code class="language-plaintext highlighter-rouge">modelo treinado</code> que contẽm a inteligência do chatbot.</p>

<p><img src="/assets/images/arquitetura_boilerplate-v3-criar.png" alt="arquitetura_boilerplate-v3-criar" /></p>

<ul>
  <li><strong>Prover</strong></li>
</ul>

<p>O usuário interage com a Boilerplate via Telegram, que manda as mensagens para o Rasa NLU através de conectores, onde ele identifica a <em>intent</em>, e responde pelo Rasa Core, de acordo com as <em>stories</em> e <em>actions</em>.</p>

<p>As <em>models</em> utilizadas para a conversação foram geradas pelo módulo <em>trainer</em> e depois transferidas para o bot, estes modelos podem ser versionados e evoluídos entre bots.</p>

<p><img src="/assets/images/arquitetura_boilerplate-v3-prover.png" alt="arquitetura_boilerplate-v3-prover" /></p>

<h2 id="tutorial">Tutorial</h2>

<p>Primeiramente, clone o repositório para sua máquina local usando o comando:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/lappis-unb/rasa-ptbr-boilerplate.git
</code></pre></div></div>

<p>Para ter seu chatbot Rasa funcionando, certifique-se de estar dentro da pasta do projeto e então execute no terminal o seguinte comando:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make first-run
</code></pre></div></div>

<p>Esse comando irá construir a infraestrutura necessária (subir containers com as dependências, treinar o chatbot e iniciar o chat no modo shell) para possibilitar a interação com o chatbot.</p>

<p>Depois que tudo for instalado, você verá a seguinte mensagem e pode começar a interagir com o bot:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Bot loaded. Type a message and press enter <span class="o">(</span>use <span class="s1">'/stop'</span> to <span class="nb">exit</span><span class="o">)</span>:
Your input -&gt;
</code></pre></div></div>

<p>Para fechar a interação com o bot é só digitar <code class="language-plaintext highlighter-rouge">ctrl+c</code>.</p>

<h3 id="comandos">Comandos</h3>

<ul>
  <li>O comando de treinamento é usado para criar os modelos necessários na conversação do bot. Para treinar o seu chatbot execute o comando:</li>
</ul>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make train
</code></pre></div></div>

<ul>
  <li>Para executar o bot no terminal execute:</li>
</ul>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make shell
</code></pre></div></div>

<h3 id="configuração-telegram">Configuração Telegram</h3>

<p>Após realizar o <a href="/docs/setup_telegram.md">tutorial</a> de exportação de todas variávies de ambiente necessárias, é possível realizar a execução do bot no telegram corretamente.</p>

<p><strong>Antes de seguir adiante. Importante:</strong> As variáveis de ambiente são necessárias para o correto funcionamento do bot, por isso não esqueça de exportá-las.</p>

<p>Depois execute o bot no telegram:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make telegram
</code></pre></div></div>

<h3 id="analytics">Analytics</h3>

<p>Para a visualização dos dados da interação entre o usuário e o chatbot nós utilizamos uma parte da Stack do Elastic, composta pelo ElasticSearch e o Kibana. Com isso, utilizamos um broker para fazer a gerência de mensagens. Então conseguimos adicionar mensagens ao ElasticSearch independente do tipo de mensageiro que estamos utilizando.</p>

<ul>
  <li>Para uma <strong>configuração rápida</strong> execute o seguinte comando:</li>
</ul>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make build-analytics
</code></pre></div></div>

<p>Espere até os serviço do <em>ElasticSearch</em> estar pronto, e execute o comando abaixo para configurar os índices:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make config-elastic
</code></pre></div></div>

<p>Espere até os serviço do <em>Kibana</em> estar pronto, e execute o comando abaixo para configurar os <em>dashboards</em>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make config-kibana
</code></pre></div></div>

<p>O comando acima precisa ser executado apenas 1 vez e já vai deixar toda a infra de <code class="language-plaintext highlighter-rouge">analytics</code> pronta para o uso.</p>

<p>Acesse o <strong>kibana</strong> na url <code class="language-plaintext highlighter-rouge">locahost:5601</code></p>

<p>Caso você deseje entender o processo de configuração da <em>stack</em> de <em>analytics</em>, veja a <a href="docs/setup_analytics.md">explicação completa de analytics</a>.</p>

<h3 id="adicionando-componentes-customizados-de-treinamento">Adicionando componentes customizados de treinamento</h3>

<p>O Rasa permite a adição de módulos customizados no seu pipeline de processamento, aprenda mais <a href="https://blog.rasa.com/enhancing-rasa-nlu-with-custom-components/">AQUI</a>.</p>

<p>Existe aqui um exemplo de componente customizado que implementa Análise de Sentimentos.</p>

<p>Para utilizá-lo basta introduzir o componente <code class="language-plaintext highlighter-rouge">components.sentiment_analyzer.SentimentAnalyzer</code> ao arquivo <code class="language-plaintext highlighter-rouge">bot/config.yml</code>. Como no exemplo:</p>

<pre><code class="language-ymal">language : "pt"

pipeline:
  - name: WhitespaceTokenizer
  - name: "components.sentiment_analyzer.SentimentAnalyzer"                                                                                        - name: RegexFeaturizer
</code></pre>

<p>Depois, como no exemplo do arquivo <code class="language-plaintext highlighter-rouge">bot/components/labels.yml</code>, adicione frases que correspondam à uma label(classificação ou sentimento).</p>

<p>Por último basta treinar o bot novamente, e a informação será armazenada na entidade <code class="language-plaintext highlighter-rouge">sentiment</code> caso o componente identifique um valor para essa entidade.</p>

<h2 id="notebooks---análise-de-dados">Notebooks - Análise de dados</h2>

<h3 id="setup">Setup</h3>

<p>Levante o container <code class="language-plaintext highlighter-rouge">notebooks</code></p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make notebooks
</code></pre></div></div>

<p>Acesse o notebook em <code class="language-plaintext highlighter-rouge">localhost:8888</code></p>

<h2 id="documentação">Documentação</h2>

<p>A documentação do projeto pode ser executada localmente utilizando o <a href="https://www.gitbook.com/">GitBook</a>.
Para instalar o gitbook via npm, é preciso ter instalado no computador <a href="https://docs.npmjs.com/downloading-and-installing-node-js-and-npm">Node.js e npm</a>.</p>

<ul>
  <li>Instale o <a href="https://til.secretgeek.net/gitbook/use_gitbook_locally.html">gitbook</a>:</li>
</ul>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install</span> <span class="nt">-g</span> gitbook gitbook-cli
</code></pre></div></div>

<ul>
  <li>Depois de instalado, na pasta raíz do projeto, execute:</li>
</ul>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gitbook build <span class="nb">.</span>
</code></pre></div></div>

<ul>
  <li>E para rodar localmente execute:</li>
</ul>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gitbook serve <span class="nb">.</span>
</code></pre></div></div>

<ul>
  <li>Acesse:</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http://localhost:4000/
</code></pre></div></div>

<p><strong>Contribuição</strong>: Para contribuir com a documentação do projeto leia <a href="docs/Tutoriais/tutorial-como-contribuir-com-documentacao.md">como contribuir para a documentação</a></p>

<h1 id="como-conseguir-ajuda">Como conseguir ajuda</h1>

<p>Parte da documentação técnica do framework da Tais está disponível na
<a href="https://github.com/lappis-unb/tais/wiki">wiki do repositório</a>. Caso não encontre sua resposta, abra uma issue com a tag <code class="language-plaintext highlighter-rouge">duvida</code> que tentaremos responder o mais rápido possível.</p>

<p>Em caso de dúvidas em relação ao Rasa, veja o grupo <a href="https://t.me/RasaBrasil">Telegram Rasa Stack Brasil</a>, estamos lá também para ajudar.</p>

<p>Veja mais informações de contato em nosso site: https://lappis.rocks.</p>

<h1 id="licença">Licença</h1>

<p>Todo o framework do boilerplate é desenvolvido sob a licença
<a href="https://github.com/lappis-unb/rasa-ptbr-boilerplate/blob/master/LICENSE">GPL3</a></p>

<p>Veja a lista de dependências de licenças <a href="https://libraries.io/github/lappis-unb/rasa-ptbr-boilerplate">aqui</a></p>

        </section>

        <aside id="sidebar">
          

          
            <p class="repo-owner"><a href="https://github.com/lappis-unb/rasa-ptbr-boilerplate">rasa-ptbr-boilerplate</a> is maintained by <a href="https://github.com/lappis-unb">lappis-unb</a>.</p>
          

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</p>
        </aside>
      </div>
    </div>

    <script>!(function () {
    let e = document.createElement("script"),
      t = document.head || document.getElementsByTagName("head")[0];
    (e.src =
      "assets/1.0.1.min.js"),
      (e.async = !0),
      (e.onload = () => {
        window.WebChat.default(
          {
            customData: { language: "pt-br" },
            selector: "#webchat",
            initPayload: "/cumprimentar",
            socketUrl: "http://localhost:5007",
            socketPath: "/socket.io/",
            title: "Tais",
            inputTextFieldHint: "Digite sua mensagem...",
            connectingText: "Conectando...",
            hideWhenNotConnected: true,
            fullScreenMode: false,
            profileAvatar: "assets/images/bot.png",
            openLauncherImage: 'assets/images/launcher_button.svg',
            closeLauncherImage: 'assets/images/launcher_button.svg',
            params: {
                images: {
                    dims: {
                        width: 300,
                        height: 200,
                    }
                },
                storage: "session"
            }
          },
          null
        );
      }),
      t.insertBefore(e, t.firstChild);
    })();
    </script>

  </body>
</html>
